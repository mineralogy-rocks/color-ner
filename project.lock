prepare:
  cmd: python -m spacy run prepare
  script:
    - python ./scripts/preprocess.py sc color_train ./assets/ ./assets/color_train.jsonl
  deps:
    - path: assets/color_train.json
      md5: 6549aa96a5e0ab1127e4183f0f43b255
    - path: scripts/preprocess.py
      md5: a51ee5d2a3991a0189603149bdd7e4ed
  outs:
    - path: assets/color_train.jsonl
      md5: 9f56042a9dcec146339a5d98ec14e995
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
corpus:
  cmd: python -m spacy run corpus
  script:
    - python ./scripts/corpus.py sc ./assets/color_train.jsonl ./corpus/color_train.spacy
  deps:
    - path: assets/color_train.jsonl
      md5: 9f56042a9dcec146339a5d98ec14e995
    - path: scripts/corpus.py
      md5: fae32db111e4399d87b4c1528f312625
  outs:
    - path: assets/color_train.jsonl
      md5: 9f56042a9dcec146339a5d98ec14e995
    - path: ./corpus/color_dev.spacy
      md5: null
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
preprocess:
  cmd: python -m spacy run preprocess
  script:
    - python ./scripts/preprocess.py ./assets/color_train.json ./assets/color_train.jsonl
    - python ./scripts/preprocess.py ./assets/color_dev.json ./assets/color_dev.jsonl
    - python ./scripts/corpus.py ./assets/color_train.jsonl ./corpus/color_train.spacy
    - python ./scripts/corpus.py ./assets/color_dev.jsonl ./corpus/color_dev.spacy
  deps:
    - path: ./assets/color_train.json
      md5: ccfe9593bf28da768de04cdc7090d01c
    - path: ./assets/color_dev.json
      md5: a245f1ebe59f3321fa3af7bd2cda4ccb
    - path: ./scripts/corpus.py
      md5: 91c41806ee61c1866b349872095c9e40
    - path: ./scripts/preprocess.py
      md5: 05c91caf545055a86b7684f86bd5efa3
  outs:
    - path: ./assets/color_train.jsonl
      md5: fd3557a94a6d94e0894536a13468961d
    - path: ./assets/color_dev.jsonl
      md5: 9aee5b07ce2f4467517f24ff3f38773f
    - path: ./corpus/color_train.spacy
      md5: 2721ccf9c1be4ea4478bc49862dfab70
    - path: ./corpus/color_dev.spacy
      md5: 6ec34cd816055deae526a06824e3f300
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
train:
  cmd: python -m spacy run train
  script:
    - python -m spacy train ./configs/config.cfg -o ./training/ --gpu-id -1 --paths.train
      ./corpus/color_train.spacy --paths.dev ./corpus/color_dev.spacy
  deps:
    - path: ./corpus/color_train.spacy
      md5: 2721ccf9c1be4ea4478bc49862dfab70
    - path: ./corpus/color_dev.spacy
      md5: 6ec34cd816055deae526a06824e3f300
    - path: ./configs/config.cfg
      md5: 2180b648dba7f07d794224c7b140b8ce
  outs:
    - path: training/model-best
      md5: f1e5ab98a0e5656b6dfca0e4dccadf81
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python -m spacy evaluate ./training/model-best ./corpus/color_dev.spacy --output
      ./metrics/colorExtractor-0.0.1.json
  deps:
    - path: ./training/model-best
      md5: f1e5ab98a0e5656b6dfca0e4dccadf81
    - path: ./corpus/color_dev.spacy
      md5: 6ec34cd816055deae526a06824e3f300
  outs:
    - path: ./metrics/colorExtractor-0.0.1.json
      md5: c5271b9d2bd6d3a207cbf478e273a31c
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
clean:
  cmd: python -m spacy run clean
  script:
    - rm -rf ./training/* | y
    - rm -rf ./metrics/* | y
    - rm -rf ./corpus/* | y
  deps: []
  outs: []
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
package:
  cmd: python -m spacy run package
  script:
    - python -m spacy package ./training/model-best packages --name colorExtractor
      --version 0.0.1  --meta-path meta.json --force --build wheel
  deps:
    - path: ./training/model-best
      md5: f1e5ab98a0e5656b6dfca0e4dccadf81
  outs:
    - path: ./packages/en_colorExtractor-0.0.1/dist/en_colorExtractor-0.0.1-py3-none-any.whl
      md5: 139d96fabaae82aeac06f124aae79cd3
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
package-wheel:
  cmd: python -m spacy run package-wheel
  script:
    - python -m spacy package ./training/model-best packages --name colorExtractor
      --version 0.0.1 --force --build wheel
  deps:
    - path: ./training/model-best
      md5: c740a4bad3189e60198ebeaaea53db50
  outs:
    - path: ./packages/en_colorExtractor-0.0.1/dist/en_colorExtractor-0.0.1-py3-none-any.whl
      md5: 43bab56bd524e0cccbcb9e283e38952b
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
push:
  cmd: python -m spacy run push
  script:
    - python -m spacy huggingface-hub push ./packages/en_colorExtractor-0.0.1/dist/en_colorExtractor-0.0.1-py3-none-any.whl
  deps: []
  outs: []
  spacy_version: 3.6.1
  spacy_git_version: 458bc5f45
